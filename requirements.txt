
Django==5.0.4
django-allauth==0.61.1
django-crispy-forms==2.1
django-environ==0.11.2
django-tailwind==3.8.0
crispy-bootstrap5==2024.2
pillow==10.3.0
pip==24.0


<form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"
method="POST">
  {% csrf_token %}
  <div class="input-group">
    <input type="text" class="form-control bg-light border-0 small" placeholder="Buscar..." name="buscar" value="{{ request.POST.buscar }}">
    <div class="input-group-append">
      <button class="btn btn-primary" type="submit">
        <i class="fas fa-search fa-sm"></i>
      </button>
    </div>
  </div>
</form>

<div class="card-body">
            <a href="{% url 'usuario:usuario_cliente' %}" class="btn btn-primary">Listar todo</a>
            {% if user.usuario_administrador %}
              <button class="btn btn-primary" type="button" onclick="abrirModalCreacion('{% url 'usuario:registro_usuario' %}')">Agregar Cliente</button>
            {% endif %}
              <br><br>
            {% if usuario_cliente %} <!-- Aqui pregunta si el diccionario se envio. Recuerde que en las views
            le dijimos como se llama el objeto, en este caso clientes. VAYA AL INDEX.HTML -->
              <div class="table-responsive">
                <table class="table table-bordered"  width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>Identificación</th>
                      <th>Nombre</th>
                      <th>Apellido</th>
                      <th>Teléfono</th>
                      <th>Dirección</th>
                      <th>E-mail</th>
                      <th>Accion</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for cliente in usuario_cliente %}
                    {% if cliente.id != user.id%}
                    
                      <tr>
                        <td>{{ cliente.identificacion }}</td>
                        <td>{{ cliente.nombre }}</td>
                        <td>{{ cliente.apellido }}</td>
                        <td>{{ cliente.telefono }}</td>
                        <td>{{ cliente.direccion }}</td>
                        <td>{{ cliente.email }}</td>
                                              
                        <td>
                            <button class="btn btn-danger" type="button" onclick="abrirModalEliminacion('{% url 'usuario:eliminar_cliente' cliente.id %}')">
                              <i class="fa fa-user-times"></i>
                            </button>
                            
                            
                        </td>

                      
                      </tr>
                    {% else %}
                    {% endif %}
                    {% endfor %}
                  </tbody>
                </table>
              </div>
             {% else %}
              <h1>NO HAY CLIENTES REGISTRADOS</h1>
            {% endif %}
            </div>


    def listar_usuario_cliente(request):
    busqueda = request.POST.get("buscar")
    usuario_cliente = UsuarioCliente.objects.all()

    if busqueda:
        usuario_cliente = UsuarioCliente.objects.filter(
            Q(identificacion__icontains = busqueda) | 
            Q(nombre__icontains = busqueda) |
            Q(apellido__icontains = busqueda) |
            Q(email__icontains = busqueda)
        ).distinct()

    return render(request, 'clientes.html', {'usuario_cliente':usuario_cliente})



















