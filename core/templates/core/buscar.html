{% extends 'core/base.html' %}

{% block content %}
<div class="bg-fondo">
    <div class="container col-md-6">
        <div class="row justify-content-center ">
            <div class="row justify-content-center mt-4">


                <!-- Formulario de búsqueda -->
                <form method="POST" class="form-inline">
                    {% csrf_token %}
                    <div class="input-group">
                        <input type="text" class="form-control bg-light border-0 small" placeholder="Buscar..." name="buscar" value="{{ request.POST.buscar }}">
                        <div class="input-group-append">
                            <button class="btn btn-secondary" type="submit">
                                <i class="fas fa-search fa-sm"></i>
                            </button>
                        </div>
                    </div>
                </form>

                <!-- Opciones de ordenamiento -->
                <div class="mt-3">
                    <form method="GET">
                        <label for="orden">Ordenar por:</label>
                        <select name="orden" id="orden">
                            <option value="titulo" {% if request.GET.orden == "titulo" %}selected{% endif %}>Título</option>
                            <option value="precio" {% if request.GET.orden == "precio" %}selected{% endif %}>Precio</option>
                            <!-- Agregar más opciones de ordenamiento según tus necesidades -->
                        </select>
                        <!-- Agrega la clase "btn-secondary" para cambiar el color del botón a gris -->
                        <button type="submit" class="btn btn-secondary">Ordenar</button>
                    </form>
                </div>


<!--==================Busqueda==================================================-->

                <h1>Listado de publicaciones</h1>
                <div class="mt-3">
                    {% for publicacion in publicaciones %}
                    <div class="card mx-2 mb-3 col-md-10   ">
                        <div class="card-body">
                            
                                <h5 class="card-title">{{ publicacion.titulo }}</h5>
                                <p class="card-text"><strong>Código:</strong> {{ publicacion.codigo }}</p>
                                <p class="card-text"><strong>Precio:</strong> {{ publicacion.precio }}</p>
                                <p class="card-text"><strong>Cantidad:</strong> {{ publicacion.cantidad }}</p>
                                <p class="card-text"><strong>Categoría:</strong> {{ publicacion.categoria }}</p>
                                <p class="card-text"><strong>Unidad:</strong> {{ publicacion.unidad }}</p>
                                <p class="card-text"><strong>Descripción:</strong> {{ publicacion.descripcion }}</p>
                                                      
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
            </div>
        </div>
    </div>
</div>
{% endblock %}
